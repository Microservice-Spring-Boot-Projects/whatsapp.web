<div id="communicationContent">
  <cdk-virtual-scroll-viewport appendOnly itemSize="50" class="communcation-viewport">
    <ng-container *cdkVirtualFor="let message of currentParticipant?.messages | keyvalue">
      <div class="communicationText" [class.right]="message.value.type == 1" [class.left]="message.value.type == 2">
        <span [class.received]="message.value.type == 1" [class.sent]="message.value.type == 2">{{message.value.text}}</span>
      </div>
    </ng-container>
  </cdk-virtual-scroll-viewport>
  <div class="textField">
    <mat-divider></mat-divider>
    <div style="width: 100%;height: 100%;">
      <div style="float: left;width: 80%;">
        <mat-form-field class="message-full-width">
          <mat-label>Text</mat-label>
          <input type="text" matInput placeholder="Text" [(ngModel)]="messageText" [ngModelOptions]="{standalone: true}">
        </mat-form-field>
      </div>
      <div style="height: 100%;">
        <mat-icon class="postButton" (click)="postMessage()">send</mat-icon>
      </div>
    </div>
  </div>
</div>
